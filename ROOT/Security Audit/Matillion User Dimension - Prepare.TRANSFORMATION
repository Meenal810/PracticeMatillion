{"job":{"components":{"6119":{"id":6119,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":163,"y":162,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[6132],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"stg_mtln_api_userconfig"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"stg_mtln_api_userconfig"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"admin"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"api"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"currentLoggedInUser"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"name"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6120":{"id":6120,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":403,"y":159,"width":32,"height":32,"inputConnectorIDs":[6128],"outputConnectorIDs":[6129],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Add Hash"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SHA2(\"name\",256)"},"2":{"slot":2,"type":"STRING","value":"user_sh"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6121":{"id":6121,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":400,"y":320,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[6131],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"mtln_internal_user_dm"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"mtln_internal_user_dm"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"user_sh"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"name"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"is_admin"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"is_api"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"create_ts"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"is_active"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"start_ts"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"end_ts"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6122":{"id":6122,"inputCardinality":"TWO","outputCardinality":"MANY","implementationID":-359894709,"x":560,"y":160,"width":32,"height":32,"inputConnectorIDs":[6129,6133],"outputConnectorIDs":[6130],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Detect Changes 0"}}}},"visible":true},"2":{"slot":2,"name":"Master Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Filter Active"}}}},"visible":true},"3":{"slot":3,"name":"Match Keys","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"user_sh"}}}},"visible":true},"4":{"slot":4,"name":"Compare Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"is_admin"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"is_api"}}}},"visible":true},"5":{"slot":5,"name":"Output Column Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"compare_is_admin"},"2":{"slot":2,"type":"STRING","value":"is_admin"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"compare_is_api"},"2":{"slot":2,"type":"STRING","value":"is_api"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"compare_name"},"2":{"slot":2,"type":"STRING","value":"name"}}}},"visible":true},"6":{"slot":6,"name":"Indicator Column","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Indicator"}}}},"visible":true},"7":{"slot":7,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":false}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6123":{"id":6123,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":-1760161015,"x":562,"y":319,"width":32,"height":32,"inputConnectorIDs":[6131],"outputConnectorIDs":[6133],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Filter Active"}}}},"visible":true},"2":{"slot":2,"name":"Filter Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"is_active"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"true"}}}},"visible":true},"3":{"slot":3,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AND"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6124":{"id":6124,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":128170095,"x":282,"y":159,"width":32,"height":32,"inputConnectorIDs":[6132],"outputConnectorIDs":[6128],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Rename 0"}}}},"visible":true},"2":{"slot":2,"name":"Column Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"admin"},"2":{"slot":2,"type":"STRING","value":"is_admin"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"api"},"2":{"slot":2,"type":"STRING","value":"is_api"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"currentLoggedInUser"},"2":{"slot":2,"type":"STRING","value":"currentLoggedInUser"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"name"},"2":{"slot":2,"type":"STRING","value":"name"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6125":{"id":6125,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":-1760161015,"x":688,"y":160,"width":32,"height":32,"inputConnectorIDs":[6130],"outputConnectorIDs":[6134],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Filter Identical"}}}},"visible":true},"2":{"slot":2,"name":"Filter Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Indicator"},"2":{"slot":2,"type":"STRING","value":"Not"},"3":{"slot":3,"type":"STRING","value":"Equal to"},"4":{"slot":4,"type":"STRING","value":"I"}}}},"visible":true},"3":{"slot":3,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AND"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6126":{"id":6126,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":834,"y":157,"width":32,"height":32,"inputConnectorIDs":[6134],"outputConnectorIDs":[6135],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Shape Data"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"TRUE"},"2":{"slot":2,"type":"STRING","value":"is_active"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"TO_TIMESTAMP_NTZ('${curr_ts}')"},"2":{"slot":2,"type":"STRING","value":"curr_ts"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"MTLN_INTERNAL_USER_DM_SEQ.nextval"},"2":{"slot":2,"type":"STRING","value":"user_id"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"FALSE"},"2":{"slot":2,"type":"STRING","value":"not_active"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"TO_TIMESTAMP_NTZ('${default_end_ts}')"},"2":{"slot":2,"type":"STRING","value":"default_end_ts"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"IFF(\n  ('${init_dm}' = 1) AND (\"Indicator\" != 'D') , \n  TO_TIMESTAMP_NTZ('${default_start_ts}'), \n  TO_TIMESTAMP_NTZ('${curr_ts}')\n)"},"2":{"slot":2,"type":"STRING","value":"start_ts"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6127":{"id":6127,"inputCardinality":"ONE","outputCardinality":"ZERO","implementationID":335239555,"x":1001,"y":162,"width":32,"height":32,"inputConnectorIDs":[6135],"outputConnectorIDs":[],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Rewrite Table - stg_mtln_internal_user_dm"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"stg_mtln_internal_user_dm"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"7":{"slot":7,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"8":{"slot":8,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"}},"connectors":{"6128":{"id":6128,"sourceID":6124,"targetID":6120},"6129":{"id":6129,"sourceID":6120,"targetID":6122},"6130":{"id":6130,"sourceID":6122,"targetID":6125},"6131":{"id":6131,"sourceID":6121,"targetID":6123},"6132":{"id":6132,"sourceID":6119,"targetID":6124},"6133":{"id":6133,"sourceID":6123,"targetID":6122},"6134":{"id":6134,"sourceID":6125,"targetID":6126},"6135":{"id":6135,"sourceID":6126,"targetID":6127}},"notes":{"6115":{"id":6115,"x":759,"y":52,"width":123,"height":168,"text":"All SCD business logic here.","colour":"e6e63c"},"6116":{"id":6116,"x":344,"y":58,"width":121,"height":148,"text":"Add \"user_sh\" field, represents a hash of the \"name\" field.","colour":"e6e63c"},"6117":{"id":6117,"x":484,"y":259,"width":173,"height":103,"text":"Filter for \"active\" dimension rows.","colour":"e6e63c"},"6118":{"id":6118,"x":627,"y":53,"width":114,"height":165,"text":"Filter out Identical staged data.","colour":"e6e63c"}},"noteConnectors":{},"variables":{"curr_ts":{"definition":{"name":"curr_ts","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"1900-01-01 00:00:00"},"default_end_ts":{"definition":{"name":"default_end_ts","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"2050-12-31 23:59:59"},"default_start_ts":{"definition":{"name":"default_start_ts","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"1900-01-01 00:00:00"},"init_dm":{"definition":{"name":"init_dm","type":"DECIMAL","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"1"}},"grids":{}},"info":{"name":"Matillion User Dimension - Prepare","description":"","type":"TRANSFORMATION","tag":"8cf5a6b2-8a66-4afe-8f3d-83ad2e246dc3"}}