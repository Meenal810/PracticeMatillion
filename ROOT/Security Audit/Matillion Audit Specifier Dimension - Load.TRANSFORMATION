{"job":{"components":{"6229":{"id":6229,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":-320,"y":160,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[6238],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"stg_mtln_api_audit"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"stg_mtln_api_audit"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"specifier"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6230":{"id":6230,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":0,"y":160,"width":32,"height":32,"inputConnectorIDs":[6237],"outputConnectorIDs":[6240],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Parse Project Hierarchy"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"IFF(LEFT(\"specifier\",14) = 'Project Group ', \n    IFF(REGEXP_INSTR(\"specifier\",' - Project \\\\(') > 1 ,\n\t\tSUBSTR(\"specifier\", REGEXP_INSTR(\"specifier\",'Project Group') + 14, REGEXP_INSTR(\"specifier\",' - Project \\\\(') - 14),\n    SUBSTR(\"specifier\",REGEXP_INSTR(\"specifier\",'Project Group') + 14, LENGTH(\"specifier\") - 14)),'None')"},"2":{"slot":2,"type":"STRING","value":"project_group_stg"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"IFF(LEFT(\"specifier\",14) = 'Project Group ',\n    SUBSTR(\"specifier\", REGEXP_INSTR(\"specifier\",' - Project \\\\(') + 11, REGEXP_INSTR(\"specifier\",' - Version \\\\(') - REGEXP_INSTR(\"specifier\",' - Project \\\\(') - 11),\n    'None')"},"2":{"slot":2,"type":"STRING","value":"project_name_stg"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"IFF(LEFT(\"specifier\",14) = 'Project Group ' AND REGEXP_INSTR(\"specifier\",' - Version \\\\(') > 1 AND REGEXP_INSTR(\"specifier\",' No such Version found') = 0,\n    IFF(REGEXP_INSTR(\"specifier\",' - Job \\\\(') > 1,\n        SUBSTR(\"specifier\", REGEXP_INSTR(\"specifier\",' - Version \\\\(') + 11, REGEXP_INSTR(\"specifier\",' - Job \\\\(') - REGEXP_INSTR(\"specifier\",' - Version \\\\(') - 11),\n    \tSUBSTR(\"specifier\", REGEXP_INSTR(\"specifier\",' - Version \\\\(') + 11, LENGTH(\"specifier\") - REGEXP_INSTR(\"specifier\",' - Version \\\\(') - 10)),\n    'None')"},"2":{"slot":2,"type":"STRING","value":"project_version_stg"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"IFF(LEFT(\"specifier\",14) = 'Project Group ' AND REGEXP_INSTR(\"specifier\",' - Job \\\\(') > 1 AND REGEXP_INSTR(\"specifier\",'No such Version found') = 0,\n    IFF(REGEXP_INSTR(\"specifier\",' - Components \\\\[') > 1,\n        SUBSTR(\"specifier\", REGEXP_INSTR(\"specifier\",' - Job \\\\(') + 7, REGEXP_INSTR(\"specifier\",' - Components \\\\[') - REGEXP_INSTR(\"specifier\",' - Job \\\\(') - 6),\n        IFF(REGEXP_INSTR(\"specifier\",' - Component \\\\(') > 1,\n            SUBSTR(\"specifier\", REGEXP_INSTR(\"specifier\",' - Job \\\\(') + 7, REGEXP_INSTR(\"specifier\",' - Component \\\\(') - REGEXP_INSTR(\"specifier\",' - Job \\\\(') - 6),\n            IFF(REGEXP_INSTR(\"specifier\",' - Connectors \\\\[') > 1,\n                SUBSTR(\"specifier\", REGEXP_INSTR(\"specifier\",' - Job \\\\(') + 7, REGEXP_INSTR(\"specifier\",' - Connectors \\\\[') - REGEXP_INSTR(\"specifier\",' - Job \\\\(') - 6),\n                IFF(REGEXP_INSTR(\"specifier\",' - Notes \\\\[') > 1,\n                    SUBSTR(\"specifier\", REGEXP_INSTR(\"specifier\",' - Job \\\\(') + 7, REGEXP_INSTR(\"specifier\",' - Notes \\\\[') - REGEXP_INSTR(\"specifier\",' - Job \\\\(') - 6),\n                     IFF(REGEXP_INSTR(\"specifier\",' - Nothing') > 1,\n                         SUBSTR(\"specifier\", REGEXP_INSTR(\"specifier\",' - Job \\\\(') + 7, REGEXP_INSTR(\"specifier\",' - Nothing') - REGEXP_INSTR(\"specifier\",' - Job \\\\(') - 6),\n                         SUBSTR(\"specifier\", REGEXP_INSTR(\"specifier\",' - Job \\\\(') + 7, LENGTH(\"specifier\") - REGEXP_INSTR(\"specifier\",' - Job \\\\(') - 6)))))),\n    'None')"},"2":{"slot":2,"type":"STRING","value":"job_name_stg"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6231":{"id":6231,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1716658327,"x":192,"y":160,"width":32,"height":32,"inputConnectorIDs":[6240],"outputConnectorIDs":[6241],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Shape Data"}}}},"visible":true},"2":{"slot":2,"name":"Include Input Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Yes"}}}},"visible":true},"3":{"slot":3,"name":"Calculations","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"SHA2(\"specifier\",256)"},"2":{"slot":2,"type":"STRING","value":"specifier_sh"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"IFF(\"project_group_stg\" = 'None',\n    \"project_group_stg\",\n    SUBSTR(\"project_group_stg\",2,REGEXP_INSTR(\"project_group_stg\",'\\\\)') - 2)\n    )"},"2":{"slot":2,"type":"STRING","value":"project_group_name"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"IFF(\"project_group_stg\" = 'None',\n    -1,\n    SUBSTR(\"project_group_stg\",REGEXP_INSTR(\"project_group_stg\",'\\\\[') + 1,LENGTH(\"project_group_stg\") - REGEXP_INSTR(\"project_group_stg\",'\\\\[') - 2)\n    )"},"2":{"slot":2,"type":"STRING","value":"project_group_id"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"IFF(\"project_name_stg\" = 'None',\n    \"project_name_stg\",\n    SUBSTR(\"project_name_stg\",2,REGEXP_INSTR(\"project_name_stg\",'\\\\)') - 2)\n    )"},"2":{"slot":2,"type":"STRING","value":"project_name"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"IFF(\"project_name_stg\" = 'None' OR REGEXP_INSTR(\"project_name_stg\",'\\\\[') = 0,\n    -1,\n    SUBSTR(\"project_name_stg\",REGEXP_INSTR(\"project_name_stg\",'\\\\[') + 1,LENGTH(\"project_name_stg\") - REGEXP_INSTR(\"project_name_stg\",'\\\\[') - 2)\n    )"},"2":{"slot":2,"type":"STRING","value":"project_id"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"IFF(\"project_version_stg\" = 'None',\n    \"project_version_stg\",\n    SUBSTR(\"project_version_stg\",2,REGEXP_INSTR(\"project_version_stg\",'\\\\)') - 2)\n    )"},"2":{"slot":2,"type":"STRING","value":"project_version_name"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"IFF(\"project_version_stg\" = 'None' OR REGEXP_INSTR(\"project_version_stg\",'\\\\[') = 0,\n    -1,\n    SUBSTR(\"project_version_stg\",REGEXP_INSTR(\"project_version_stg\",'\\\\[') + 1,LENGTH(\"project_version_stg\") - REGEXP_INSTR(\"project_version_stg\",'\\\\[') - 2)\n    )"},"2":{"slot":2,"type":"STRING","value":"project_version_id"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"IFF(\"job_name_stg\" = 'None',\n    \"job_name_stg\",\n    SUBSTR(\"job_name_stg\",2,REGEXP_INSTR(\"job_name_stg\",'\\\\)') - 2)\n    )"},"2":{"slot":2,"type":"STRING","value":"job_name"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"IFF(\"job_name_stg\" = 'None' OR REGEXP_INSTR(\"job_name_stg\",'\\\\[') = 0,\n    -1,\n    SUBSTR(\"job_name_stg\",REGEXP_INSTR(\"job_name_stg\",'\\\\[') + 1,LENGTH(\"job_name_stg\") - REGEXP_INSTR(\"job_name_stg\",'\\\\[') - 2)\n    )"},"2":{"slot":2,"type":"STRING","value":"job_id"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"TO_TIMESTAMP_NTZ( '${curr_ts}' )"},"2":{"slot":2,"type":"STRING","value":"create_ts"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6232":{"id":6232,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":1744268877,"x":-162,"y":160,"width":32,"height":32,"inputConnectorIDs":[6238],"outputConnectorIDs":[6237],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Distinct 0"}}}},"visible":true},"2":{"slot":2,"name":"Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"specifier"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6233":{"id":6233,"inputCardinality":"ONE","outputCardinality":"ZERO","implementationID":211954775,"x":640,"y":160,"width":32,"height":32,"inputConnectorIDs":[6243],"outputConnectorIDs":[],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"mtln_audit_specifier_dm"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"mtln_audit_specifier_dm"}}}},"visible":true},"4":{"slot":4,"name":"Column Mapping","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"specifier_sh"},"2":{"slot":2,"type":"STRING","value":"specifier_sh"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"specifier"},"2":{"slot":2,"type":"STRING","value":"specifier"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"project_group_name"},"2":{"slot":2,"type":"STRING","value":"project_group_name"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"project_group_id"},"2":{"slot":2,"type":"STRING","value":"project_group_id"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"project_name"},"2":{"slot":2,"type":"STRING","value":"project_name"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"project_id"},"2":{"slot":2,"type":"STRING","value":"project_id"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"project_version_name"},"2":{"slot":2,"type":"STRING","value":"project_version_name"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"project_version_id"},"2":{"slot":2,"type":"STRING","value":"project_version_id"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"job_name"},"2":{"slot":2,"type":"STRING","value":"job_name"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"job_id"},"2":{"slot":2,"type":"STRING","value":"job_id"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"create_ts"},"2":{"slot":2,"type":"STRING","value":"create_ts"}}}},"visible":true},"5":{"slot":5,"name":"Truncate","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Append"}}}},"visible":true},"200":{"slot":200,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"201":{"slot":201,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"202":{"slot":202,"name":"Warehouse","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"203":{"slot":203,"name":"Fix Data Type Mismatches","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"No"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6234":{"id":6234,"inputCardinality":"ZERO","outputCardinality":"MANY","implementationID":1354890871,"x":352,"y":288,"width":32,"height":32,"inputConnectorIDs":[],"outputConnectorIDs":[6239],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"mtln_audit_specifier_dm 0"}}}},"visible":true},"2":{"slot":2,"name":"Target Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"mtln_audit_specifier_dm"}}}},"visible":true},"3":{"slot":3,"name":"Column Names","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"specifier_sh"}}}},"visible":true},"5":{"slot":5,"name":"Schema","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"6":{"slot":6,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"7":{"slot":7,"name":"Offset","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":""}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6235":{"id":6235,"inputCardinality":"MANY","outputCardinality":"MANY","implementationID":-629958239,"x":352,"y":160,"width":32,"height":32,"inputConnectorIDs":[6239,6241],"outputConnectorIDs":[6242],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Join 0"}}}},"visible":true},"2":{"slot":2,"name":"Main Table","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Shape Data"}}}},"visible":true},"3":{"slot":3,"name":"Main Table Alias","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"s"}}}},"visible":true},"4":{"slot":4,"name":"Joins","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"mtln_audit_specifier_dm 0"},"2":{"slot":2,"type":"STRING","value":"d"},"3":{"slot":3,"type":"STRING","value":"Left"}}}},"visible":true},"5":{"slot":5,"name":"Join Expressions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"\"s\".\"specifier_sh\" = \"d\".\"specifier_sh\""},"2":{"slot":2,"type":"STRING","value":"s_Left_d"}}}},"visible":true},"6":{"slot":6,"name":"Output Columns","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"s.specifier"},"2":{"slot":2,"type":"STRING","value":"specifier"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"s.create_ts"},"2":{"slot":2,"type":"STRING","value":"create_ts"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"s.project_group_name"},"2":{"slot":2,"type":"STRING","value":"project_group_name"}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"s.project_group_id"},"2":{"slot":2,"type":"STRING","value":"project_group_id"}}},"5":{"slot":5,"values":{"1":{"slot":1,"type":"STRING","value":"s.project_name"},"2":{"slot":2,"type":"STRING","value":"project_name"}}},"6":{"slot":6,"values":{"1":{"slot":1,"type":"STRING","value":"s.project_id"},"2":{"slot":2,"type":"STRING","value":"project_id"}}},"7":{"slot":7,"values":{"1":{"slot":1,"type":"STRING","value":"s.project_version_name"},"2":{"slot":2,"type":"STRING","value":"project_version_name"}}},"8":{"slot":8,"values":{"1":{"slot":1,"type":"STRING","value":"s.project_version_id"},"2":{"slot":2,"type":"STRING","value":"project_version_id"}}},"9":{"slot":9,"values":{"1":{"slot":1,"type":"STRING","value":"s.job_name"},"2":{"slot":2,"type":"STRING","value":"job_name"}}},"10":{"slot":10,"values":{"1":{"slot":1,"type":"STRING","value":"s.job_id"},"2":{"slot":2,"type":"STRING","value":"job_id"}}},"11":{"slot":11,"values":{"1":{"slot":1,"type":"STRING","value":"s.specifier_sh"},"2":{"slot":2,"type":"STRING","value":"specifier_sh"}}},"12":{"slot":12,"values":{"1":{"slot":1,"type":"STRING","value":"d.specifier_sh"},"2":{"slot":2,"type":"STRING","value":"d_specifier_sh"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"},"6236":{"id":6236,"inputCardinality":"ONE","outputCardinality":"MANY","implementationID":-1760161015,"x":481,"y":161,"width":32,"height":32,"inputConnectorIDs":[6242],"outputConnectorIDs":[6243],"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Filter 0"}}}},"visible":true},"2":{"slot":2,"name":"Filter Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"d_specifier_sh"},"2":{"slot":2,"type":"STRING","value":"Is"},"3":{"slot":3,"type":"STRING","value":"Null"},"4":{"slot":4,"type":"STRING","value":""}}}},"visible":true},"3":{"slot":3,"name":"Combine Conditions","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"AND"}}}},"visible":true}},"exportMappings":{},"expectedFailure":null,"activationStatus":"ENABLED"}},"connectors":{"6237":{"id":6237,"sourceID":6232,"targetID":6230},"6238":{"id":6238,"sourceID":6229,"targetID":6232},"6239":{"id":6239,"sourceID":6234,"targetID":6235},"6240":{"id":6240,"sourceID":6230,"targetID":6231},"6241":{"id":6241,"sourceID":6231,"targetID":6235},"6242":{"id":6242,"sourceID":6235,"targetID":6236},"6243":{"id":6243,"sourceID":6236,"targetID":6233}},"notes":{"6225":{"id":6225,"x":-235,"y":66,"width":146,"height":147,"text":"Distinct set of Specifier values from staged Audit Log data.","colour":"e6e63c"},"6226":{"id":6226,"x":-68,"y":65,"width":184,"height":147,"text":"Parse Project Hierarchy data where available.","colour":"e6e63c"},"6227":{"id":6227,"x":136,"y":65,"width":133,"height":146,"text":"Apply Business Logic","colour":"e6e63c"},"6228":{"id":6228,"x":287,"y":66,"width":415,"height":271,"text":"Compare (join) staged Specifier data against the target Dimension and insert New specifier records into the Dimension table.","colour":"e6e63c"}},"noteConnectors":{},"variables":{"curr_ts":{"definition":{"name":"curr_ts","type":"TEXT","scope":"TASKBATCH","description":"","visibility":"PUBLIC"},"value":"1900-01-01 00:00:00"}},"grids":{}},"info":{"name":"Matillion Audit Specifier Dimension - Load","description":"","type":"TRANSFORMATION","tag":"e2f98fbc-ab3e-4414-9c69-6b9a42ed804c"}}